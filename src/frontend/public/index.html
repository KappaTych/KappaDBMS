{% extends 'app.html' %}
{% load static %}


{% block head %}
    {% include 'components/sqltable.html' %}

    <link rel="stylesheet" href="{% static "css/app.css" %}" type="text/css" />
{% endblock %}


{% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="{% static "js/components.js" %}"></script>
    <script src="{% static "js/main.js" %}"></script>
{% endblock %}


{% block content %}
    <div id="app">

        <div id="table">
            <h3>[[ table.name ]]</h3>
            <sqltable :data="table.data" :columns="table.columns" :filter-key="table.query"></sqltable>
        </div>

        <div class="grid-container">
            <div class="grid-item">
                <p>
                    <label for="input_text_area">Input query:</label>
                </p>
                <textarea class="sqlarea jush-sql jush" rows="20" cols="100" id="input_text_area" name="input_text_area" placeholder="Enter query" v-model='input'></textarea>
            </div>
            <div class="grid-item">
                <p>
                    <label for="output_text_area">Output result:</label>
                </p>
                <textarea class="sqlarea jush-sql jush" rows="20" cols="100" id="output_text_area" name="output_text_area" placeholder="Awaiting" readonly v-model='output'></textarea>
            </div>
        </div>

        <input style="margin: 24px" type="submit" @click="sendQuery" value="Execute query"></input>

    </div>
{% endblock %}
